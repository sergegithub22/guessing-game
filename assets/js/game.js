var newGame,AttemptsLeft,mobileInputNumber=document.querySelector(".mobile-main-input"),sectionGameItem=document.querySelector(".mobile-game"),resultArea=document.querySelector(".info"),totalTryesQuantity=document.querySelector(".counter-total-quantity"),percentsArea=document.querySelector(".counter-percent"),keyBoardsPull=document.querySelectorAll(".button-keyboard"),mainHeader=document.querySelector(".header"),random=randomNumber(),guessesPercents=0,trying=0,sessionTryes=0,guess=0,miss=0,clearTrig=0,buttonTheme=document.querySelectorAll(".theme-btn"),rulesBtn=document.querySelectorAll(".rules-btn"),themeIcon=document.querySelectorAll(".icon-theme use"),rulesIcon=document.querySelectorAll(".icon-rules use"),btnScreenBoardInRules=document.querySelectorAll(".bnt-scr-board-in-rules");let fullStatBtn=document.querySelectorAll(".button-stat"),resetStatBtn=document.querySelector(".button-reset"),fullStatSection=document.querySelector(".full-stat"),fullStatContentSection=document.querySelector("#fullstatcontent"),ArrayOfEachGameGuesses=[],gamesFinished=document.querySelector("#gamesfinished"),totalAttempts=document.querySelector("#totalattempts"),totalGuesses=document.querySelector("#totalguesses"),totalMisses=document.querySelector("#totalmisses"),averangePer=document.querySelector("#avrresult"),maxPer=document.querySelector("#maxresult"),minPer=document.querySelector("#minresult");const fullStat={gamesFinished:0,totalAttempts:0,totalGuesses:0,totalMisses:0,maxResultPer:0,minResultper:0,AvrResultper:0};start(),loadGame(),displayFullResult(),mobileInputNumber.value=" ";for(var i=keyBoardsPull.length-1;0<=i;i--)keyBoardsPull[i].addEventListener("click",useKeyboard);for(var bt=buttonTheme.length-1;0<=bt;bt--)buttonTheme[bt].addEventListener("click",theme);function game(){1===newGame&&start(),1===clearTrig&&(clearTrig=sessionTryes=0),parseInt(mobileInputNumber.value)<1||10<parseInt(mobileInputNumber.value)?alert('Number must be between 1 and 10 inclusevly. Press "<--" to clear entry field'):" "===mobileInputNumber.value?alert("Please, enter some number"):((parseInt(mobileInputNumber.value)===random?guessNumber:noneGuessNumber)(),calcPersents(),1===newGame&&(ArrayOfEachGameGuesses.push(guessesPercents),console.log(ArrayOfEachGameGuesses)),fullStat.totalAttempts=++fullStat.totalAttempts,saveGame(),console.log(fullStat),console.log(localStorage),calcFullResult(),displayFullResult())}function start(){totalTryesQuantity.textContent=30,percentsArea.textContent=0,AttemptsLeft=30,newGame=guess=trying=sessionTryes=0}function randomNumber(){return Math.floor(10*Math.random()+1)}function guessNumber(){trying+=1,guess+=1,sessionTryes+=1,AttemptsLeft-=1,totalTryesQuantity.textContent=AttemptsLeft.toString(),resultArea.value="You guessed.\nRandom number was: "+random+"\nNew rnd is ready",mobileInputNumber.value=" ",clearTrig=1,0===AttemptsLeft&&(resultArea.value="You guessed.\nRandom number was: "+random+"\nNew game is ready",newGame=1,fullStat.gamesFinished=++fullStat.gamesFinished),random=randomNumber(),fullStat.totalGuesses=++fullStat.totalGuesses}function noneGuessNumber(){trying+=1,miss+=1,sessionTryes+=1,AttemptsLeft-=1,totalTryesQuantity.textContent=AttemptsLeft.toString(),0===AttemptsLeft?(parseInt(mobileInputNumber.value)<random&&(resultArea.value=mobileInputNumber.value+" Too low\nRandom number was: "+random+"\nNew game is ready"),parseInt(mobileInputNumber.value)>random&&(resultArea.value=mobileInputNumber.value+" Too high\nRandom number was: "+random+"\nNew game is ready"),newGame=1,fullStat.gamesFinished=++fullStat.gamesFinished):(parseInt(mobileInputNumber.value)<random&&(resultArea.value=mobileInputNumber.value+" Too low"),parseInt(mobileInputNumber.value)>random&&(resultArea.value=mobileInputNumber.value+" Too high")),mobileInputNumber.value=" ",fullStat.totalMisses=++fullStat.totalMisses}function calcPersents(){guessesPercents=guess/trying*100,percentsArea.textContent=guessesPercents.toFixed(1).toString()+"%"}function useKeyboard(e){"del"===e.currentTarget.id?mobileInputNumber.value=" ":"compare"===e.currentTarget.id?game():"fullstatbtn"===e.currentTarget.id?fullStatSection.style.display="block":e.currentTarget.classList.contains("button-number")&&(mobileInputNumber.value=mobileInputNumber.value+e.currentTarget.textContent)}function saveGame(){localStorage.setItem("arrgameguesses",JSON.stringify(ArrayOfEachGameGuesses)),localStorage.setItem("stat",JSON.stringify(fullStat))}function loadGame(){if(localStorage.arrgameguesses&&localStorage.stat){JSON.parse(localStorage.getItem("arrgameguesses")).forEach((e,t)=>{ArrayOfEachGameGuesses[t]=e}),console.log(ArrayOfEachGameGuesses);var e,t=JSON.parse(localStorage.getItem("stat"));for(e in t)fullStat[e]=t[e];console.log(fullStat),displayFullResult()}}function calcFullResult(){var e,t,r,l;0!==ArrayOfEachGameGuesses.length?({summ:l,counter:e,max:t,min:r}=ArrayOfEachGameGuesses.reduce((e,t)=>(e.summ+=t,e.counter+=1,e.max<t&&(e.max=t),e.min>t&&(e.min=t),e),{summ:0,counter:0,max:0,min:100}),l=l/e,fullStat.AvrResultper=l.toFixed(2),fullStat.maxResultPer=t.toFixed(2),fullStat.minResultper=r.toFixed(2)):(fullStat.AvrResultper=0,fullStat.maxResultPer=0,fullStat.minResultper=0)}function displayFullResult(){gamesFinished.textContent=fullStat.gamesFinished,totalAttempts.textContent=fullStat.totalAttempts,totalGuesses.textContent=fullStat.totalGuesses,totalMisses.textContent=fullStat.totalMisses,averangePer.textContent=fullStat.AvrResultper+"%",maxPer.textContent=fullStat.maxResultPer+"%",minPer.textContent=fullStat.minResultper+"%"}function theme(){var e=document.querySelector("body"),t=document.querySelector(".rules"),r=(document.querySelector(".settings"),document.querySelector(".game__item")),l=(document.querySelector(".header__hi"),document.querySelector(".header__description"),document.querySelectorAll(".button-keyboard")),s=document.querySelector(".info"),n=document.querySelector(".mobile-main-input"),o=document.querySelectorAll(".text--blue"),a=document.querySelectorAll(".sections__header"),u=document.querySelectorAll(".counter-header-text"),i=document.querySelectorAll(".text--violet"),c=document.querySelectorAll(".text--marked");if("dark"===buttonTheme[0].id){fullStatContentSection.classList.toggle("dark-theme"),fullStatSection.classList.toggle("dark-theme--full-stat");for(var m=buttonTheme.length-1;0<=m;m--)buttonTheme[m].addEventListener("mouseover",e=>{for(var t=themeIcon.length-1;0<=t;t--)themeIcon[t].style.fill="black",themeIcon[t].style.transition="0.1s"}),buttonTheme[m].addEventListener("mouseout",e=>{for(var t=themeIcon.length-1;0<=t;t--)themeIcon[t].style.fill="gray"});for(var d=rulesBtn.length-1;0<=d;d--)rulesBtn[d].addEventListener("mouseover",e=>{for(var t=rulesIcon.length-1;0<=t;t--)rulesIcon[t].style.fill="black",rulesIcon[t].style.transition="0.1s"}),rulesBtn[d].addEventListener("mouseout",e=>{for(var t=rulesIcon.length-1;0<=t;t--)rulesIcon[t].style.fill="gray"}),rulesBtn[d].addEventListener("touchstart",e=>{for(var t=rulesIcon.length-1;0<=t;t--)rulesIcon[t].style.fill="white"}),rulesBtn[d].addEventListener("touchend",e=>{for(var t=rulesIcon.length-1;0<=t;t--)rulesIcon[t].style.fill="gray"});for(var y=rulesIcon.length-1;0<=y;y--)rulesIcon[y].style.fill="gray",rulesIcon[y].style.transition="2.5s";for(var g=btnScreenBoardInRules.length-1;0<=g;g--)btnScreenBoardInRules[g].style.fill="black",btnScreenBoardInRules[g].style.transition="2.5s";for(var h=themeIcon.length-1;0<=h;h--)themeIcon[h].attributes[0].value="assets/img/sprite.svg#light",themeIcon[h].style.fill="gray",themeIcon[h].style.transition="2.5s";for(d=rulesBtn.length-1;0<=d;d--)rulesBtn[d].style.fill="gray",rulesBtn[d].style.transition="0.5s";e.style.backgroundColor="lightgray",e.style.transition="2.5s";for(var f=o.length-1;0<=f;f--)o[f].style.color="black",o[f].style.transition="2.5s";for(var b=c.length-1;0<=b;b--)c[b].style.color="#0064f0",c[b].style.transition="2.5s";for(var S=a.length-1;0<=S;S--)a[S].style.color="#005c61",a[S].style.transition="2.5s";for(var p=u.length-1;0<=p;p--)u[p].style.color="#005c61",u[p].style.transition="2.5s";for(var v=i.length-1;0<=v;v--)i[v].style.color="#0064f0",i[v].style.transition="2.5s";t.style.backgroundColor="lightgray",t.style.borderColor="gray",t.style.boxShadow="gray 0px 0px 13px",t.style.transition="2.5s",r.style.backgroundColor="lightgray",r.style.transition="2.5s",sectionGameItem.style.borderColor="gray",sectionGameItem.style.backgroundColor="lightgray",sectionGameItem.style.boxShadow="gray 0px 0px 13px",sectionGameItem.style.transition="2.5s",n.style.borderColor="gray",n.style.backgroundColor="lightgray",n.style.boxShadow="gray 0px 0px 4px",n.style.transition="2.5s",n.style.color="black",s.style.backgroundColor="lightgray",s.style.color="#0053c7",s.style.transition="2.5s";for(var x=l.length-1;0<=x;x--)l[x].style.backgroundColor="lightgray",l[x].style.color="black",l[x].style.fill="black",l[x].style.borderColor="gray",l[x].style.boxShadow="gray 0px 0px 4px",l[x].style.transition="2.5s",l[x].addEventListener("mousedown",e=>{e.currentTarget.style.transition="0s",e.currentTarget.style.borderColor="white",e.currentTarget.style.color="white",e.currentTarget.style.fill="white"}),l[x].addEventListener("mouseup",e=>{e.currentTarget.style.transition="0s",e.currentTarget.style.borderColor="gray",e.currentTarget.style.color="black",e.currentTarget.style.fill="black"});for(x=l.length-1;0<=x;x--)l[x].addEventListener("touchstart",e=>{e.currentTarget.style.transition="0s",e.currentTarget.style.color="white",e.currentTarget.style.fill="white",e.currentTarget.style.borderColor="white"});for(x=l.length-1;0<=x;x--)l[x].addEventListener("touchend",e=>{e.currentTarget.style.transition="0s",e.currentTarget.style.color="black",e.currentTarget.style.fill="black",e.currentTarget.style.borderColor="gray"});buttonTheme[0].id="light"}else if("light"===buttonTheme[0].id){fullStatContentSection.classList.toggle("dark-theme"),fullStatSection.classList.toggle("dark-theme--full-stat");for(m=buttonTheme.length-1;0<=m;m--)buttonTheme[m].addEventListener("mouseover",e=>{for(var t=themeIcon.length-1;0<=t;t--)themeIcon[t].style.fill="white",themeIcon[t].style.transition="0.1s"}),buttonTheme[m].addEventListener("mouseout",e=>{for(var t=themeIcon.length-1;0<=t;t--)themeIcon[t].style.fill="#388BFF"});for(d=rulesBtn.length-1;0<=d;d--)rulesBtn[d].addEventListener("mouseover",e=>{for(var t=rulesIcon.length-1;0<=t;t--)rulesIcon[t].style.fill="white",rulesIcon[t].style.transition="0.1s"}),rulesBtn[d].addEventListener("mouseout",e=>{for(var t=rulesIcon.length-1;0<=t;t--)rulesIcon[t].style.fill="#388BFF"}),rulesBtn[d].addEventListener("touchstart",e=>{for(var t=rulesIcon.length-1;0<=t;t--)rulesIcon[t].style.fill="white"}),rulesBtn[d].addEventListener("touchend",e=>{for(var t=rulesIcon.length-1;0<=t;t--)rulesIcon[t].style.fill="#388BFF"});for(y=rulesIcon.length-1;0<=y;y--)rulesIcon[y].style.fill="#388BFF",rulesIcon[y].style.transition="0.5s";for(g=btnScreenBoardInRules.length-1;0<=g;g--)btnScreenBoardInRules[g].style.fill="#388BFF",btnScreenBoardInRules[g].style.transition="2.5s";for(h=themeIcon.length-1;0<=h;h--)themeIcon[h].attributes[0].value="assets/img/sprite.svg#dark",themeIcon[h].style.fill="#388BFF",themeIcon[h].style.transition="2.5s",e.style.backgroundColor="gray";for(d=rulesBtn.length-1;0<=d;d--)rulesBtn[d].style.fill="#388BFF",rulesBtn[d].style.transition="2.5s";for(e.style.backgroundColor="#000C17",e.style.transition="2.5s",f=o.length-1;0<=f;f--)o[f].style.color="#78B0FF",o[f].style.transition="2.5s";for(b=c.length-1;0<=b;b--)c[b].style.color="#a39600",c[b].style.transition="2.5s";for(S=a.length-1;0<=S;S--)a[S].style.color="#009DA6",a[S].style.transition="2.5s";for(p=u.length-1;0<=p;p--)u[p].style.color="#009DA6",u[p].style.transition="2.5s";for(v=i.length-1;0<=v;v--)i[v].style.color="#78B0FF",i[v].style.transition="2.5s";for(t.style.backgroundColor="black",t.style.borderColor="#002252",t.style.boxShadow="#002252 0px 0px 13px",t.style.transition="2.5s",r.style.backgroundColor="black",r.style.transition="2.5s",sectionGameItem.style.borderColor="#002252",sectionGameItem.style.backgroundColor="black",sectionGameItem.style.boxShadow="#002252 0px 0px 13px",sectionGameItem.style.transition="2.5s",n.style.borderColor="#002252",n.style.backgroundColor="black",n.style.boxShadow="#002252 0px 0px 4px",n.style.transition="2.5s",n.style.color="#388BFF",s.style.backgroundColor="black",s.style.color="#0053c7",s.style.borderColor="#002252",s.style.transition="2.5s",x=l.length-1;0<=x;x--)l[x].style.backgroundColor="black",l[x].style.color="#388BFF",l[x].style.fill="#388BFF",l[x].style.borderColor="#002252",l[x].style.boxShadow="#002252 0px 0px 4px",l[x].style.transition="2.5s",l[x].addEventListener("mousedown",e=>{e.currentTarget.style.transition="0s",e.currentTarget.style.borderColor="white",e.currentTarget.style.color="white",e.currentTarget.style.fill="white"}),l[x].addEventListener("mouseup",e=>{e.currentTarget.style.transition="0s",e.currentTarget.style.borderColor="#002252",e.currentTarget.style.color="#388BFF",e.currentTarget.style.fill="#388BFF"});for(x=l.length-1;0<=x;x--)l[x].addEventListener("touchstart",e=>{e.currentTarget.style.transition="0s",e.currentTarget.style.color="white",e.currentTarget.style.fill="white",e.currentTarget.style.borderColor="white"});for(x=l.length-1;0<=x;x--)l[x].addEventListener("touchend",e=>{e.currentTarget.style.transition="0s",e.currentTarget.style.color="#388BFF",e.currentTarget.style.fill="#388BFF",e.currentTarget.style.borderColor="#002252"});buttonTheme[0].id="dark"}}function changeTheme(){}fullStatSection.addEventListener("click",e=>{fullStatSection.style.display="none"}),fullStatContentSection.addEventListener("click",e=>{e.stopPropagation()}),resetStatBtn.addEventListener("click",e=>{if(confirm("Are you really wanna del all current game statistic?")){for(var t in localStorage.clear(),fullStat)fullStat[t]=0;console.log(fullStat),ArrayOfEachGameGuesses.length=0,console.log(ArrayOfEachGameGuesses),displayFullResult(),alert("Statistic was cleared")}});for(var main=document.querySelector(".main"),rulesHeader=document.querySelectorAll(".mobile-game__header"),rulesSection=document.querySelector(".rules"),rulesHide=!0,rb=rulesBtn.length-1;0<=rb;rb--)rulesBtn[rb].addEventListener("click",function(){if(!0===rulesHide){switch(!0){case window.matchMedia("(min-width: 1000px)").matches:main.style.maxWidth="850px",main.style.gridTemplateColumns="350px auto",sectionGameItem.style.height="425px";break;case window.matchMedia("(max-width: 1000px) and (min-width: 599px)").matches:main.style.maxWidth="55%",main.style.gridTemplateColumns="1fr";break;case window.matchMedia("(max-width: 600px) and (min-width: 499px)").matches:main.style.maxWidth="85%",main.style.gridTemplateColumns="1fr";break;case window.matchMedia("(max-width: 500px)").matches:main.style.maxWidth="95%",main.style.gridTemplateColumns="1fr"}rulesSection.classList.remove("visually-hidden"),rulesHide=!1}else if(!1===rulesHide){switch(!0){case window.matchMedia("(min-width: 1000px)").matches:main.style.maxWidth="350px",main.style.gridTemplateColumns="1fr",rulesSection.classList.add("visually-hidden");break;case window.matchMedia("(max-width: 1000px) and (min-width: 599px)").matches:main.style.maxWidth="55%",main.style.gridTemplateColumns="1fr";break;case window.matchMedia("(max-width: 600px) and (min-width: 499px)").matches:main.style.maxWidth="85%",main.style.gridTemplateColumns="1fr";break;case window.matchMedia("(max-width: 500px)").matches:main.style.maxWidth="95%",main.style.gridTemplateColumns="1fr"}rulesHide=!0}});for(rb=rulesBtn.length-1;0<=rb;rb--)rulesBtn[rb].addEventListener("touchend",()=>{main.classList.toggle("flipped")});window.matchMedia("(min-width: 1000px)").matches&&(rulesBtn[0].classList.add("visually-hidden"),buttonTheme[0].classList.add("visually-hidden"),rulesHeader[0].style.justifyContent="center",main.style.transition="0.05s",mainHeader.style.border="0px",mainHeader.style.boxShadow="none"),window.matchMedia("(max-width: 1000px)").matches&&(rulesSection.classList.remove("visually-hidden"),main.style.transition="1s");